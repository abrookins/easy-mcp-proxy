mcp_servers:

  # Memory server for long-term agent memory
  redis-memory-server:
    command: uv
    args:
      - tool
      - run
      - --from
      - agent-memory-server
      - agent-memory
      - mcp
    env:
      REDIS_URL: redis://localhost:6399
    tools:
      get_current_datetime:
        description: |
          Get the current date and time. Use this when you need to
          record timestamps for Redis instance events or incidents.

          {original}
      create_long_term_memories:
        description: |
          Save long-term memories about Redis instances. Use this to
          record: past incidents and their resolutions, configuration
          changes, performance baselines, known issues, maintenance
          history, and lessons learned. Always include the instance_id
          in the memory text for future retrieval.

          {original}
      search_long_term_memory:
        description: |
          Search saved memories about Redis instances. ALWAYS use this
          before troubleshooting a Redis instance to recall past issues,
          solutions, and context. Search by instance_id, error patterns,
          or symptoms.

          {original}
      get_long_term_memory:
        description: |
          Retrieve a specific memory by ID. Use this to get full details
          of a memory found via search.

          {original}
      edit_long_term_memory:
        description: |
          Update an existing memory. Use this to add new information to
          a past incident record, update resolution status, or correct
          outdated information.

          {original}
      delete_long_term_memories:
        description: |
          Delete memories that are no longer relevant. Use sparingly -
          prefer editing to add context rather than deleting.

          {original}

  # GitHub MCP server (remote) - uses GitHub's hosted MCP endpoint
  # Requires a GitHub Personal Access Token with appropriate permissions
  github:
    url: "https://api.githubcopilot.com/mcp/"
    headers:
      Authorization: "Bearer ${GITHUB_PERSONAL_ACCESS_TOKEN}"
    # Constrain to search/read tools only (40 tools -> 10)
    tools:
      search_code: {}
      search_issues: {}
      search_pull_requests: {}
      get_file_contents: {}
      list_issues: {}
      list_pull_requests: {}
      issue_read: {}
      pull_request_read: {}
      list_commits: {}
      get_commit: {}

  # AWS Documentation MCP server - search and read AWS documentation
  aws-documentation:
    command: uv
    args:
      - tool
      - run
      - --from
      - awslabs.aws-documentation-mcp-server
      - awslabs.aws-documentation-mcp-server
    env:
      FASTMCP_LOG_LEVEL: ERROR
      AWS_DOCUMENTATION_PARTITION: aws
      MCP_USER_AGENT: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"

  zendesk:
    command: uv
    args:
      - tool
      - run
      - --from
      - git+https://github.com/abrookins/zendesk-mcp-server
      - zendesk
